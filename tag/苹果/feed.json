{
    "version": "https://jsonfeed.org/version/1",
    "title": "Taoidle • All posts by \"苹果\" tag",
    "description": "秋深し、情けは人の、為ならず",
    "home_page_url": "https://www.taoidle.com",
    "items": [
        {
            "id": "https://www.taoidle.com/2020/06/03/%E4%BD%BF%E7%94%A8esp-01s%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%94%9Fhomekit%E6%8E%A7%E5%88%B6/",
            "url": "https://www.taoidle.com/2020/06/03/%E4%BD%BF%E7%94%A8esp-01s%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%94%9Fhomekit%E6%8E%A7%E5%88%B6/",
            "title": "使用ESP-01/ESP-01S实现原生Homekit控制",
            "date_published": "2020-06-03T15:32:55.000Z",
            "content_html": "<h4 id=\"准备材料\"><a class=\"markdownIt-Anchor\" href=\"#准备材料\">#</a> 准备材料：</h4>\n<p>从左到右分别为 ESP-01/ESP-01s 芯片 、 继电器模块 、 ESP-01/ESP-01s 烧录器 <img data-src=\"/assets/images/1591193142-WechatIMG4-scaled-e1591193170554.jpeg\" alt=\"\"></p>\n<h4 id=\"准备固件\"><a class=\"markdownIt-Anchor\" href=\"#准备固件\">#</a> 准备固件：</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1JhdmVuU3lzdGVtL2hhYS9yZWxlYXNlcy9kb3dubG9hZC8yLjQuNC9oYWFtYWluLmJpbg==\">haamain.bin</span> 、 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1N1cGVySG91c2UvZXNwLW9wZW4tcnRvcy9yYXcvbWFzdGVyL2Jvb3Rsb2FkZXIvZmlybXdhcmVfcHJlYnVpbHQvcmJvb3QuYmlu\">rboot.bin</span> 、 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1N1cGVySG91c2UvZXNwLW9wZW4tcnRvcy9yYXcvbWFzdGVyL2Jvb3Rsb2FkZXIvZmlybXdhcmVfcHJlYnVpbHQvYmxhbmtfY29uZmlnLmJpbg==\">blank_config.bin</span> 这里三个文件都需要下载 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1JhdmVuU3lzdGVtL2VzcC1ob21la2l0LWRldmljZXM=\">项目地址</span></p>\n<h4 id=\"准备刷写软件\"><a class=\"markdownIt-Anchor\" href=\"#准备刷写软件\">#</a> 准备刷写软件：</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZXNwcmVzc2lmLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3Rvb2xzL2ZsYXNoX2Rvd25sb2FkX3Rvb2xfdjMuOC41XzAuemlw\">flash_download_tool</span></p>\n<h4 id=\"刷写固件\"><a class=\"markdownIt-Anchor\" href=\"#刷写固件\">#</a> 刷写固件：</h4>\n<p><img data-src=\"/assets/images/wp_editor_md_dc60f654062ffaf51a78c08acd2bba99.jpg\" alt=\"\"> <img data-src=\"/assets/images/wp_editor_md_17aaa84cfd343767b9ff2190f37112de.jpg\" alt=\"\"> <img data-src=\"/assets/images/wp_editor_md_ae5295ddb67f9d167fb0cbc6e273d42b.jpg\" alt=\"\"> （这里 COM 口根据你实际选择） 点击 START 进行刷写 如下显示时为刷写完成 <img data-src=\"/assets/images/wp_editor_md_ed0e07c1fd2fb9b069d8406cadf05f73.jpg\" alt=\"\"> 找到 HAA 开头的 WiFi 并连接 <img data-src=\"/assets/images/wp_editor_md_bc59846a058b421d0e9d6cb772b9d550.jpg\" alt=\"\"> 在浏览器中输入 192.168.4.1 进入配置页面 复制下面配置文件输入到红框中</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"c\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"l\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"t\"</span><span class=\"token operator\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"a\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"t\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"s\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"0\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"r\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"v\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"1\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"r\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"v\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"/assets/images/wp_editor_md_442a50992d699b66adc7d22091f84dd8.jpg\" alt=\"\"> 选择你家的 WiFi 并在红框中输入密码 <img data-src=\"/assets/images/wp_editor_md_3601abf44598877a7b93a94c13d64c0e.jpg\" alt=\"\"> 点击 Save 保存，耐心等待 7-10 分钟后芯片开始正常工作</p>\n<h4 id=\"配对苹果家庭\"><a class=\"markdownIt-Anchor\" href=\"#配对苹果家庭\">#</a> 配对苹果家庭</h4>\n<p><img data-src=\"/assets/images/wp_editor_md_6a43f5d933a297c680519a2aab5b25e3.jpg\" alt=\"\"> <img data-src=\"/assets/images/wp_editor_md_73a4d355793de9eb87f78bba7441b8c4.jpg\" alt=\"\"> 配置文件意思</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">\"c\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token property\">\"l\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 设置状态 LED 的 GPIO 引脚</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">// 按钮配置</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 按钮的 GPIO 引脚</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token property\">\"t\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token comment\">// 时长</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token property\">\"a\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">// 附件配置</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token property\">\"t\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 物理类型</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token property\">\"s\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 启动后初始状态</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token property\">\"0\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">// 动作</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token property\">\"r\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//GPIO</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token property\">\"v\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token comment\">// 值</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token property\">\"1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">// 动作</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token property\">\"r\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//GPIO</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token property\">\"v\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token comment\">// 值</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token property\">\"b\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>          <span class=\"token property\">\"g\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "esp8266",
                "Apple",
                "esp01",
                "esp01s",
                "Homekit",
                "智能家居",
                "物联网",
                "苹果"
            ]
        }
    ]
}