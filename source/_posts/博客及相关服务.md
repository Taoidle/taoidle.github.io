---
layout: 博客及相关服务
title: 博客及相关服务
date: 2022-11-2 14:21:50
categories:
  - - 折腾记录
tags: 
  - tencent cloud
  - github
  - leancloud
  - upyun
  - cloudflare
  - cdn
---

## 前言

本文对我博客架构及相关服务的记录和补充。

## 正文

~~众所周知~~，我早期为Wordpress用户，用 [Sakura](https://github.com/mashirozx/sakura) 主题，后期使用了基于Sakara重构的 [Sakurairo](https://github.com/mirai-mamori/Sakurairo)；同期，由sakura的随机封面功能，网上没看到比较符合我xp的，所以自己搓了个随即图服务。在Wordpress时期，我的博客和随即图服务在同一台服务器上，然后套了个cdn。

迁移到hexo主要原因是~~Wordpress太慢了~~ !!学生优惠无了!!{.bulr}。

于是现在变成了这样：

![](https://cdn.assets.taoidle.com/gh/taoidle/taoidle.github.io@master/assets/images/about_blog&services(1).png)

本地写完push到github仓库source分支，触发github action进行构建，构建完分别deploy到github仓库的master分支和腾讯云存储桶。

在访问的时，先通过阿里云dns做分流，国内流量走到腾讯云上，国外流量走到github page。

图片资源同理，通过阿里云dns做分流，国内走又拍云（通过又拍云联盟白嫖免费额度）。

至于原本的图片API则拆成两个，国内使用[腾讯云SCF](https://www.taoidle.com/2022/07/10/%E8%85%BE%E8%AE%AF%E4%BA%91%E5%87%BD%E6%95%B0%E9%9A%8F%E6%9C%BA%E5%9B%BEapi%E5%AE%9E%E7%8E%B0)，国外使用[cloudflare worker](https://www.taoidle.com/2022/05/24/%E4%BD%BF%E7%94%A8cloudflare%E5%92%8Cjsdelivr%E5%81%9A%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E5%9B%BEapi/)。图片API变成了这样：

![](https://cdn.assets.taoidle.com/gh/taoidle/taoidle.github.io@master/assets/images/about_blog&services(2).png)